<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:isCheckedOut="{Boolean}false"
    jcr:primaryType="cq:WorkflowModel"
    jcr:uuid="537e5b00-f5d2-4322-b0f2-ad3aaf18dc29"
    sling:resourceType="cq/workflow/components/model"
    description="No Description"
    title="WKND Form Submission">
    <variables jcr:primaryType="nt:unstructured">
        <firstName
            jcr:primaryType="nt:unstructured"
            name="firstName"
            type="java.lang.String"/>
        <lastName
            jcr:primaryType="nt:unstructured"
            name="lastName"
            type="java.lang.String"/>
        <actionTaken
            jcr:primaryType="nt:unstructured"
            name="actionTaken"
            type="java.lang.String"/>
        <phoneNumber
            jcr:primaryType="nt:unstructured"
            name="phoneNumber"
            type="java.lang.String"/>
        <salesforceid
            jcr:primaryType="nt:unstructured"
            name="salesforceid"
            type="java.lang.String"/>
        <formData
            jcr:primaryType="nt:unstructured"
            name="formData"
            type="com.google.gson.JsonObject"/>
        <email
            jcr:primaryType="nt:unstructured"
            name="email"
            type="java.lang.String"/>
    </variables>
    <metaData
        cq:generatingPage="/conf/global/settings/workflow/models/wknd-form-submission/jcr:content"
        cq:lastModified="{Long}1621952744032"
        cq:lastModifiedBy="admin"
        jcr:primaryType="nt:unstructured"
        lastSynced="{Date}2021-05-25T10:25:44.024-04:00"/>
    <nodes jcr:primaryType="nt:unstructured">
        <node0
            jcr:primaryType="cq:WorkflowNode"
            title="Start"
            type="START">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node0>
        <node1
            jcr:primaryType="cq:WorkflowNode"
            description="Set value of variables"
            title="Set Variable"
            type="PROCESS">
            <metaData
                jcr:primaryType="nt:unstructured"
                PROCESS="com.adobe.granite.workflow.core.process.SetVariableProcess"
                PROCESS_AUTO_ADVANCE="true"
                variableMappings="[{&quot;variableName&quot;:&quot;formData&quot;\,&quot;mappingType&quot;:&quot;RELATIVE_TO_PAYLOAD&quot;\,&quot;mappingValue&quot;:&quot;data&quot;},{&quot;variableName&quot;:&quot;firstName&quot;\,&quot;mappingType&quot;:&quot;JSON_DOT_NOTATION&quot;\,&quot;mappingValue&quot;:&quot;formData:afData.afBoundData.data.Lead.FirstName&quot;},{&quot;variableName&quot;:&quot;lastName&quot;\,&quot;mappingType&quot;:&quot;JSON_DOT_NOTATION&quot;\,&quot;mappingValue&quot;:&quot;formData:afData.afBoundData.data.Lead.LastName&quot;},{&quot;variableName&quot;:&quot;email&quot;\,&quot;mappingType&quot;:&quot;JSON_DOT_NOTATION&quot;\,&quot;mappingValue&quot;:&quot;formData:afData.afBoundData.data.Lead.email&quot;},{&quot;variableName&quot;:&quot;phoneNumber&quot;\,&quot;mappingType&quot;:&quot;JSON_DOT_NOTATION&quot;\,&quot;mappingValue&quot;:&quot;formData:afData.afBoundData.data.Lead.MobilePhone&quot;}]"/>
        </node1>
        <node2
            jcr:primaryType="cq:WorkflowNode"
            description="Registration application for the west coast bicycle application"
            title="West Coast Bicycle Registration"
            type="PROCESS">
            <metaData
                jcr:primaryType="nt:unstructured"
                ALLOW_OUT_OF_OFFICE="false"
                allowExplicitSharing="false"
                allowInboxSharing="false"
                DELEGATE_TO="workflow-users"
                DUEDATE_UNIT="OFF"
                DUEDATE_VALUE="[,]"
                DYNAMIC_ASSIGNEE="[,]"
                FORM_CHOOSER_SERVICE="com.adobe.fd.workflow.api.fdinternal.PayloadFormChooser"
                FORM_RESOLUTION="SERVICE"
                FORM_TYPE="READ_ONLY_AF"
                HISTORY_DOR="READONLY_AF"
                HTML_EMAIL_TEMPLATE_LOCATION="/libs/fd/dashboard/templates/email/htmlEmailTemplate.txt"
                icDataSourceType="PROVIDEDATADOCUMENT"
                INPUT_COMBINED_DATAXML="VARIABLE:formData"
                INPUT_COMBINED_FORM_ATTACHMENTS="FOLDER_PAYLOAD:attachments"
                IS_ATTACHMENT_ALLOWED="false"
                IS_COMMENT_ALLOWED="false"
                IS_NEXT_STEP_DATA_ALLOWED="true"
                IS_PREVIOUS_STEP_DATA_ALLOWED="true"
                PARTICIPANT="workflow-users"
                PROCESS="com.adobe.fd.workspace.step.service.AssignFormStep"
                PROCESS_AUTO_ADVANCE="false"
                PROCESS_PARTICIPANT_TYPE="static"
                PROVIDE_METADATA="false"
                RECIPIENT_EMAIL_RESOLUTION="DEFAULT"
                ROUTE_PROPERTYNAME="actionTaken"
                ROUTES="[{&quot;Route_Label&quot;:&quot;Approve&quot;\,&quot;Route_Icon_Name&quot;:&quot;checkCircle&quot;},{&quot;Route_Label&quot;:&quot;Reject&quot;\,&quot;Route_Icon_Name&quot;:&quot;close&quot;}]"
                SEND_EMAIL_NOTIFICATION="false"
                SHOW_ACTION="true"
                SHOW_ASSIGNEE="true"
                SHOW_COMMENT="true"
                SHOW_DOCUMENT_OF_COMPLETED_TASK="true"
                SHOW_PRE_STEP_COMMENT_ATTACHMENT="true"
                SHOW_RESET="false"
                SHOW_SAVE="false"
                SHOW_SUBMIT="true"
                STATIC_ASSIGNEE="george.lang"
                SUBTYPE="forms:assigntask"
                TASK_PRIORITY="HIGH"
                TIMEOUT_HANDLER="[,]"
                USER_METADATA_RESOURCE="[,]"
                WORK_ITEM_TYPE="AF_ASSIGN_STEP"
                workflowStage="[,]"/>
        </node2>
        <node3
            jcr:primaryType="cq:WorkflowNode"
            description="Invoke a Form Data Model Service to fetch or post data to a data source."
            title="Salesforce Lead Creation"
            type="PROCESS">
            <metaData
                jcr:primaryType="nt:unstructured"
                binarypathcombined="[,,,,,,,,,,,,,]"
                FDM_PATH="/content/dam/formsanddocuments-fdm/wknd/wknd-vacations"
                inputjsonpathcombined="VARIABLE:formData"
                inputkey="[Lead.FirstName,Lead.LastName,Lead.Title,Lead.Phone,Lead.email,Lead.MobilePhone,Lead.Company,Lead.LeadSource,Lead.Fax,Lead.street,Lead.city,Lead.province,Lead.postalCode,Lead.country]"
                inputoption="[VARIABLE,VARIABLE,literal,VARIABLE,VARIABLE,VARIABLE,literal,literal,literal,literal,literal,literal,literal,literal]"
                inputvalue="[Tina,Smith,West Coast Cycling Request,6139142478,tina.smith@na.com,6139142478,WKND Vacations,Website,N/A,242 Jasper,Ottawa,ON,K4K1Q4,Canada]"
                inputvariablevalue="[firstName,lastName,,phoneNumber,email,phoneNumber,,,,,,,,]"
                isarray="[false,false,false,false,false,false,false,false,false,false,false,false,false,false]"
                isbinary="[false,false,false,false,false,false,false,false,false,false,false,false,false,false]"
                isjsoninput="MANUAL"
                isjsonoutput="MANUAL"
                isrequired="[true,true,false,true,false,false,true,false,false,false,false,false,false,false]"
                mapinputfieldshidden="false"
                OPERATION="POST /services/data/v32.0/sobjects/Lead"
                outputoption="VARIABLE"
                outputvalue="id"
                outputvariablekey="salesforceid"
                PROCESS="com.adobe.fd.workflow.fdm.step.FDMOperationStep"
                PROCESS_AUTO_ADVANCE="true"
                SUBTYPE="forms:fdmoperation"
                terminateWorkflow="true"
                ValidationLevel="BASIC"
                WORK_ITEM_TYPE="FDM_OPERATION_STEP"/>
        </node3>
        <node4
            jcr:primaryType="cq:WorkflowNode"
            title="End"
            type="END">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node4>
    </nodes>
    <transitions jcr:primaryType="nt:unstructured">
        <node0_x0023_node1
            jcr:primaryType="cq:WorkflowTransition"
            from="node0"
            rule=""
            to="node1">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node0_x0023_node1>
        <node1_x0023_node2
            jcr:primaryType="cq:WorkflowTransition"
            from="node1"
            rule=""
            to="node2">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node1_x0023_node2>
        <node2_x0023_node3
            jcr:primaryType="cq:WorkflowTransition"
            from="node2"
            rule=""
            to="node3">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node2_x0023_node3>
        <node3_x0023_node4
            jcr:primaryType="cq:WorkflowTransition"
            from="node3"
            to="node4">
            <metaData jcr:primaryType="nt:unstructured"/>
        </node3_x0023_node4>
    </transitions>
</jcr:root>
